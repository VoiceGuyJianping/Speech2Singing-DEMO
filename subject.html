<html>
    <body>
        
        <!-- for submit button -->
        <script language="javascript" type="text/javascript">
            function myGetItem() {
                var handler = document.getElementsByName("background");
                for(var i=0;i<handler.length;i++) { 
                    if(handler[i].checked) 
                    background = handler[i].value; 
                };

                var handler = document.getElementsByName("pleasant-1.1");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    p_1_1 = handler[i].value; 
                };

                var handler = document.getElementsByName("rhythmic-1.1");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    r_1_1 = handler[i].value; 
                };

                var handler = document.getElementsByName("continuation-1.1");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    c_1_1 = handler[i].value; 
                };

                var handler = document.getElementsByName("pleasant-1.2");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    p_1_2 = handler[i].value; 
                };

                var handler = document.getElementsByName("rhythmic-1.2");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    r_1_2 = handler[i].value; 
                };

                var handler = document.getElementsByName("continuation-1.2");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    c_1_2 = handler[i].value; 
                };

                var handler = document.getElementsByName("pleasant-1.3");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    p_1_3 = handler[i].value; 
                };

                var handler = document.getElementsByName("rhythmic-1.3");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    r_1_3 = handler[i].value; 
                };

                var handler = document.getElementsByName("continuation-1.3");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    c_1_3 = handler[i].value; 
                };

                var handler = document.getElementsByName("pleasant-2.1");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    p_2_1 = handler[i].value; 
                };

                var handler = document.getElementsByName("rhythmic-2.1");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    r_2_1 = handler[i].value; 
                };

                var handler = document.getElementsByName("continuation-2.1");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    c_2_1 = handler[i].value; 
                };

                var handler = document.getElementsByName("pleasant-2.2");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    p_2_2 = handler[i].value; 
                };

                var handler = document.getElementsByName("rhythmic-2.2");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    r_2_2 = handler[i].value; 
                };

                var handler = document.getElementsByName("continuation-2.2");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    c_2_2 = handler[i].value; 
                };

                var handler = document.getElementsByName("pleasant-2.3");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    p_2_3 = handler[i].value; 
                };

                var handler = document.getElementsByName("rhythmic-2.3");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    r_2_3 = handler[i].value; 
                };

                var handler = document.getElementsByName("continuation-2.3");
                for(var i=0;i< handler.length;i++) { 
                    if(handler[i].checked) 
                    c_2_3 = handler[i].value; 
                };

                myPostToGoogle();
            };
        </script>
        
        <!-- for google form submit -->
        <script language="javascript" type="text/javascript">
            function myPostToGoogle() {
                $.ajax({
                    beforeSend: function(request) {
                        request.setRequestHeader('Access-Control-Allow-Origin', '*');
                    },
                    url: "https://docs.google.com/forms/d/e/1FAIpQLSdwycjfSrN5IX6ir2CXEQg5HUrmvStIRXFeMAKDehsBSkq4Vg/viewform",
                    data: {
                        "entry.1117893682": background,
                        "entry.931457378": sampleIndex1,
                        "entry.1309691659": p_1_1,
                        "entry.1124493679": r_1_1,
                        "entry.1469569812": c_1_1,
                        "entry.20435417": p_1_2,
                        "entry.1208167366": r_1_2,
                        "entry.276168746": c_1_2,
                        "entry.2097006059": p_1_3,
                        "entry.1463465284": r_1_3,
                        "entry.1411433031": c_1_3,
                        "entry.353017429": sampleIndex2,
                        "entry.1919439340": p_2_1,
                        "entry.79220072": r_2_1,
                        "entry.36450976": c_2_1,
                        "entry.1495444247": p_2_2,
                        "entry.747740671": r_2_2,
                        "entry.998165659": c_2_2,
                        "entry.2063212104": p_2_3,
                        "entry.631550444": r_2_3,
                        "entry.637482833": c_2_3
                    },
                    type: "POST",
                    dataType: "xml",
                    statusCode: {
                        0: function() {
                        },
                        200: function() {  
                        },
                        400: function() {
                        }
                    }
                });
            };
        </script>
        
        <!-- for random -->
        <script>
            function myGetRandom(min, max) {
                var r = Math.floor(Math.random()*(max-min+1))+min;
                return r
            };
            var sampleIndex1 = myGetRandom(0, 49);
            var sampleIndex2 = myGetRandom(50, 99);
            var background = '0';
            var p_1_1 = '0';
            var r_1_1 = '0';
            var c_1_1 = '0';
            var p_1_2 = '0';
            var r_1_2 = '0';
            var c_1_2 = '0';
            var p_1_3 = '0';
            var r_1_3 = '0';
            var c_1_3 = '0';
            var p_2_1 = '0';
            var r_2_1 = '0';
            var c_2_1 = '0';
            var p_2_2 = '0';
            var r_2_2 = '0';
            var c_2_2 = '0';
            var p_2_3 = '0';
            var r_2_3 = '0';
            var c_2_3 = '0';
            console.log('3')
        </script>
        
        <!-- description -->
        <h1>ðŸŽ¹ Pop Piano Music Generation via Transformer</h1>
        <p>
            Hi, we are from <u><a href="https://musicai.citi.sinica.edu.tw/" target="_blank">Music and AI Lab</a></u> at Academia Sinica, Taiwan.
            We would like to develop an approach to automatically generate pop piano music with Transformer (one of the deep learning modules). <br><br>
            In the following questionnaire, we generate 3 music samples which are based on the same 4-bar prompt randomly cut from real (human-made) music.
            Each sample includes the prompt in the beginning (~10 seconds). After the prompt, you can find out how the machines try to "continue" it.
            You will be asked to rate <i>how pleasant, how rhythmic and how following the prompt</i> for each sample.
            And everytime you refresh the webpage (or after you press the "submit"), you could get different music samples.
            We would appreciate it if you could help us fill this questionnaire several times. THANKS! <br><br>
            If you have any questions, please feel free to contact: <u><a href="https://remyhuang.github.io/" target="_blank">Yu-Siang Huang</a></u>
        </p> 
        

        <!-- background -->
        <h1>ðŸŽ¯ Questionnaire</h1>
            Are you studying in music-related departments or working in music-production industries?
            <form>
                <input type="radio" name="background" value="Yes"> Yes &nbsp;&nbsp;&nbsp;
                <input type="radio" name="background" value="No"> No
            </form>
        
        <br>
        
        <!-- audio contents set 1-->
        <h1 id="header2-1"></h1>
        <script>
            document.getElementById("header2-1").innerHTML = "ðŸ¤– Machine-Generated Samples: No." + sampleIndex1; 
        </script>
        
        <div id="audio_content2-1"></div>
        <script>
            var data = [['070.midi.1.midi.mp3', 'AC', 'https://drive.google.com/uc?export=open&id=1YHsfMAwY2woERndGfNQVqYz_-4wdQg77', 'baseline', 'https://drive.google.com/uc?export=open&id=1JBXi4VXBB8FGNv_zSsTcYLcKoeouquRZ', 'NC', 'https://drive.google.com/uc?export=open&id=1WZG3WQpD7HEGAI0gHW53MC_4Okwt_nUi'], ['006.midi.2.midi.mp3', 'baseline', 'https://drive.google.com/uc?export=open&id=1th6mVG-imNZDR83yQ8A6dFK4osDDEKGC', 'NC', 'https://drive.google.com/uc?export=open&id=1H1eYB0-abv1oTdiR3zEy39GJWcW-aBz9', 'AC', 'https://drive.google.com/uc?export=open&id=1mOeLejiIo9IYmZi1z2IeG6YT38Yl3wPu'], ['013.midi.1.midi.mp3', 'NC', 'https://drive.google.com/uc?export=open&id=1WkTWouOAwSH2ek2GsvJXgSib5Lu3Ctp0', 'baseline', 'https://drive.google.com/uc?export=open&id=1_C0AxiZcEGS0XAaGLFqZlMYF8N6WZOIv', 'AC', 'https://drive.google.com/uc?export=open&id=1to8cOUuyZS2eKWJrEF3mUs54xEYBn6Ao'], ['041.midi.2.midi.mp3', 'AC', 'https://drive.google.com/uc?export=open&id=1feks69JPPACemenzMgbquZRrOsaVChyu', 'NC', 'https://drive.google.com/uc?export=open&id=1eLvia7XLtBYVSwc4HyhDVukvgI5e2Ee8', 'baseline', 'https://drive.google.com/uc?export=open&id=1p6gwprQ9qkgXKsZx4UiYLj2OMUgGbCPI'], ['037.midi.1.midi.mp3', 'NC', 'https://drive.google.com/uc?export=open&id=1tyuml8pfnvWtclSEe2X2rpk2WXln_gk_', 'AC', 'https://drive.google.com/uc?export=open&id=1QkSgQC-ldkH__5I2tHK1ERt9Co-WTdTb', 'baseline', 'https://drive.google.com/uc?export=open&id=1sDaAIAD_5Ybss6-1atgUgTvHfiYB4Em0'], ['091.midi.1.midi.mp3', 'NC', 'https://drive.google.com/uc?export=open&id=1HKJqObgjC1kSOy9DNocSHpCO4pSkzWsl', 'AC', 'https://drive.google.com/uc?export=open&id=1Ia7rAcro6ATf1ejZ9oEtKjbTCPVrhkEJ', 'baseline', 'https://drive.google.com/uc?export=open&id=186Gkm5puSyxPG23jP8IugQiKPxnLmzR1']];
            var link1_1 = data[sampleIndex1][0];
            var link2_2 = data[sampleIndex1][1];
            var link3_3 = data[sampleIndex1][2];
            document.getElementById("audio_content2-1").innerHTML = '<strong># 1st sample</strong><br><audio controls controlsList="nodownload"><source src="' + link1_1 + '" type="audio/mpeg"></audio><br><strong>How pleasant:</strong><form><input type="radio" name="pleasant-1.1" value="1"> 1 (worst) &nbsp;&nbsp;&nbsp;<input type="radio" name="pleasant-1.1" value="2"> 2 &nbsp;&nbsp;&nbsp;<input type="radio" name="pleasant-1.1" value="3"> 3 &nbsp;&nbsp;&nbsp;<input type="radio" name="pleasant-1.1" value="4"> 4 &nbsp;&nbsp;&nbsp;<input type="radio" name="pleasant-1.1" value="5"> 5 (best) &nbsp;&nbsp;&nbsp;</form><strong>How rhythmic:</strong><form><input type="radio" name="rhythmic-1.1" value="1"> 1 (worst) &nbsp;&nbsp;&nbsp;<input type="radio" name="rhythmic-1.1" value="2"> 2 &nbsp;&nbsp;&nbsp;<input type="radio" name="rhythmic-1.1" value="3"> 3 &nbsp;&nbsp;&nbsp;<input type="radio" name="rhythmic-1.1" value="4"> 4 &nbsp;&nbsp;&nbsp;<input type="radio" name="rhythmic-1.1" value="5"> 5 (best) &nbsp;&nbsp;&nbsp;</form></form><strong>How following the prompt (continuation):</strong><form><input type="radio" name="continuation-1.1" value="1"> 1 (worst) &nbsp;&nbsp;&nbsp;<input type="radio" name="continuation-1.1" value="2"> 2 &nbsp;&nbsp;&nbsp;<input type="radio" name="continuation-1.1" value="3"> 3 &nbsp;&nbsp;&nbsp;<input type="radio" name="continuation-1.1" value="4"> 4 &nbsp;&nbsp;&nbsp;<input type="radio" name="continuation-1.1" value="5"> 5 (best) &nbsp;&nbsp;&nbsp;</form><br><br>';

            document.getElementById("audio_content2-1").innerHTML += '<strong># 2nd sample</strong><br><audio controls controlsList="nodownload"><source src="' + link2_2 + '" type="audio/mpeg"></audio><br><strong>How pleasant:</strong><form><input type="radio" name="pleasant-1.2" value="1"> 1 (worst) &nbsp;&nbsp;&nbsp;<input type="radio" name="pleasant-1.2" value="2"> 2 &nbsp;&nbsp;&nbsp;<input type="radio" name="pleasant-1.2" value="3"> 3 &nbsp;&nbsp;&nbsp;<input type="radio" name="pleasant-1.2" value="4"> 4 &nbsp;&nbsp;&nbsp;<input type="radio" name="pleasant-1.2" value="5"> 5 (best) &nbsp;&nbsp;&nbsp;</form><strong>How rhythmic:</strong><form><input type="radio" name="rhythmic-1.2" value="1"> 1 (worst) &nbsp;&nbsp;&nbsp;<input type="radio" name="rhythmic-1.2" value="2"> 2 &nbsp;&nbsp;&nbsp;<input type="radio" name="rhythmic-1.2" value="3"> 3 &nbsp;&nbsp;&nbsp;<input type="radio" name="rhythmic-1.2" value="4"> 4 &nbsp;&nbsp;&nbsp;<input type="radio" name="rhythmic-1.2" value="5"> 5 (best) &nbsp;&nbsp;&nbsp;</form></form><strong>How following the prompt (continuation):</strong><form><input type="radio" name="continuation-1.2" value="1"> 1 (worst) &nbsp;&nbsp;&nbsp;<input type="radio" name="continuation-1.2" value="2"> 2 &nbsp;&nbsp;&nbsp;<input type="radio" name="continuation-1.2" value="3"> 3 &nbsp;&nbsp;&nbsp;<input type="radio" name="continuation-1.2" value="4"> 4 &nbsp;&nbsp;&nbsp;<input type="radio" name="continuation-1.2" value="5"> 5 (best) &nbsp;&nbsp;&nbsp;</form><br><br>';

            document.getElementById("audio_content2-1").innerHTML += '<strong># 3rd sample</strong><br><audio controls controlsList="nodownload"><source src="' + link3_3 + '" type="audio/mpeg"></audio><br><strong>How pleasant:</strong><form><input type="radio" name="pleasant-1.3" value="1"> 1 (worst) &nbsp;&nbsp;&nbsp;<input type="radio" name="pleasant-1.3" value="2"> 2 &nbsp;&nbsp;&nbsp;<input type="radio" name="pleasant-1.3" value="3"> 3 &nbsp;&nbsp;&nbsp;<input type="radio" name="pleasant-1.3" value="4"> 4 &nbsp;&nbsp;&nbsp;<input type="radio" name="pleasant-1.3" value="5"> 5 (best) &nbsp;&nbsp;&nbsp;</form><strong>How rhythmic:</strong><form><input type="radio" name="rhythmic-1.3" value="1"> 1 (worst) &nbsp;&nbsp;&nbsp;<input type="radio" name="rhythmic-1.3" value="2"> 2 &nbsp;&nbsp;&nbsp;<input type="radio" name="rhythmic-1.3" value="3"> 3 &nbsp;&nbsp;&nbsp;<input type="radio" name="rhythmic-1.3" value="4"> 4 &nbsp;&nbsp;&nbsp;<input type="radio" name="rhythmic-1.3" value="5"> 5 (best) &nbsp;&nbsp;&nbsp;</form></form><strong>How following the prompt (continuation):</strong><form><input type="radio" name="continuation-1.3" value="1"> 1 (worst) &nbsp;&nbsp;&nbsp;<input type="radio" name="continuation-1.3" value="2"> 2 &nbsp;&nbsp;&nbsp;<input type="radio" name="continuation-1.3" value="3"> 3 &nbsp;&nbsp;&nbsp;<input type="radio" name="continuation-1.3" value="4"> 4 &nbsp;&nbsp;&nbsp;<input type="radio" name="continuation-1.3" value="5"> 5 (best) &nbsp;&nbsp;&nbsp;</form><br><br>';
        </script>


        <!-- submit button -->
        <p>
            <strong>
                Thank you for your participation. Please press the submit button. <br>
                After you press the button, this page will refresh and you can directly enjoy the other samples!
            </strong>
        </p>
        <button type="submit" onclick="myGetItem()">Submit</button>
    </body>
</html>